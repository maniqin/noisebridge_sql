////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

CLASS 1

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

Good source: https://www.geeksforgeeks.org/sql-tutorial/
https://www.tutorialspoint.com/sql/sql-rdbms-concepts.htm

------------------------------------------------------------------------------------
template: Intro slide template
template_id: 1 
------------------------------------------------------------------------------------

CLASS 1 - Intro
Links to meetup, gh, and wiki


------------------------------------------------------------------------------------
template: Previous Class
template_id: 2 
------------------------------------------------------------------------------------
	- Previous class review
		- code
		- no class, this is the first one!


------------------------------------------------------------------------------------
template: 2x2 grid with bullet points on left and image on right
template_id: 7
------------------------------------------------------------------------------------
	- What is sql, why is it used
		- S(trucured) Q(uery) L(anguage)
		- We can access databases with it
		- Fast / efficient storage & retrieval

		- One of the most used / popular ways to store data
		- Key component to backends of many Web Apps

------------------------------------------------------------------------------------
template: table_template
template_id: 4
------------------------------------------------------------------------------------

	- Several variants of sql (proprietary vs open)
		- PostgreSQL
		- MySQL
		- SQLite
		- SQL Server
		- Oracle DB
		- Etc...

------------------------------------------------------------------------------------
template: Double bulleted list
template_id: 7
------------------------------------------------------------------------------------

	- Different types of databases optimized to do different things
		analytical db vs operational db
		db on file vs db on server

	-Understanding why it's called RDBS (relational database system)
		Can decide what are the relationships between tables before filling them with data
		Very important step, if not the most important, gonna have repercussions in the future


------------------------------------------------------------------------------------
template: Double bulleted list
template_id: 7
------------------------------------------------------------------------------------

	TABLES
		What is a table? 
			https://en.wikipedia.org/wiki/Table_(database)
		Why multiple tables and not just one?
			Storage efficiency
			Data better organized
			Encapsulate concepts into tables


------------------------------------------------------------------------------------
template: title and bullet points
template_id: 5
------------------------------------------------------------------------------------

	TABLES
		What is a Column or Field? 
			https://en.wikipedia.org/wiki/Column_(database)
			A field is a column in a table
			Vertical entity that stores data
			We can apply filters on columns
				just like you would on a spreadsheet
			Columns store a specific data types
				more on this later


------------------------------------------------------------------------------------
template: Title only
template_id: 13
------------------------------------------------------------------------------------

	SCHEMA
		What is a table schema and how do I draw / design one?
			A schema is a collection of (most likely) related tables

------------------------------------------------------------------------------------
template: img_only
template_id: 11
------------------------------------------------------------------------------------

	Sample table schema drawing
		- http://www.postgresqltutorial.com/wp-content/uploads/2018/03/dvd-rental-sample-database-diagram.png


------------------------------------------------------------------------------------
template: title and bullet points
template_id: 5
------------------------------------------------------------------------------------

MAIN SQL CONCEPTS (have this as constant on top left)

	TABLE / COLUMNS important concepts (have this as constant on top right)

		Keys:
		- What's a Primary Key? (aka join key)
		- What's a Foreign Key? (aka join key)
			- Why should I care about all this??


------------------------------------------------------------------------------------
template: title and bullet points
template_id: 5
------------------------------------------------------------------------------------

		- Understnading Constrants (NOT NULL, UNIQUE etc)
			- When creating a table we can set specific constraints to it
			- This means columns we specify will follow set rules (i.e. never being empty)
			- Some examples of constraints: NOT NULL, UNIQUE, PRIMARY KEY, FOREIGN KEY, etc..
			- W3 Schools ref: https://www.w3schools.com/sql/sql_constraints.asp


------------------------------------------------------------------------------------
template: double_bulleted_list
template_id: 7
------------------------------------------------------------------------------------

		- Data Types
			- Columns are created with a set data type
				- This means that a given column will accomodate a specific type of data and refuse other ones

			- Most common data types:
				- integers
				- floats
				- date/datetime/timestamp
				- varchar
				- boolean
				- autoincrement/sequence
				- Source: https://www.geeksforgeeks.org/sql-datatypes/


------------------------------------------------------------------------------------
template: title and bullet points
template_id: 5
------------------------------------------------------------------------------------

	STATEMENTS (have this as constant on top right):

		SQL statements (aka SQL code, queries, SQL pulls) are the way we interact with the DB
			- Creating tables
			- Inserting data into tables
			- Deleting data from tables
			- Query data from tables


------------------------------------------------------------------------------------
template: title and bullet points
template_id: 5
------------------------------------------------------------------------------------

	STATEMENT TYPES:
		- DDL, DML, DCL, TCL (definition, manipulation, control, transaction control)
			- source: https://www.geeksforgeeks.org/sql-ddl-dml-dcl-tcl-commands/ 
		- We'll start with DML (simple SELECT queries)


------------------------------------------------------------------------------------
template: Title only
template_id: 13
------------------------------------------------------------------------------------

Before we can get SQLing...
we need a DB


------------------------------------------------------------------------------------
template: double_bulleted_list
template_id: 7
------------------------------------------------------------------------------------

DOWNLOAD A SAMPLE DB
	- Let's start with a simple sqlite file - http://www.sqlitetutorial.net/sqlite-sample-database/
	- Sample postres dump - http://www.postgresqltutorial.com/postgresql-sample-database/ or https://musicbrainz.org/statistics
		- Need to install postgres for this one, if interested talk to me after class

DOWNLOAD SQL CLIENT GUI
	- https://sqlitebrowser.org/ (works on all machines)




----
template: vertical
template_id: 9 
----


------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

LET'S WRITE SOME SQL

	[md]SELECT statement[md]
		- SQL way to retrieve data from one or multiple tables
		- May be the most common statement you'll see around
		- 99.9% of the times it will be followed by a FROM (to indicate 'from what table')
		- Doesn't matter if typed upper or lower case


------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

SELECT from a table
	All columns
		SELECT * FROM table_name;
	Specific columns, choose the order you want
		SELECT  column_name_1,
				column_name_2,
				column_name_3
			FROM table;

------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

What if the table outputs too many rows?
	Use limit!
		SELECT column_1,
				column_2 
			FROM table_name
			LIMIT 100;

------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

How to describe / put comments in your code
	Comments in SQL
		-- This query does so and so
		SELECT column_1,
				column_2 
			FROM table_name -- this is an inline comment
			/*
			You will need multi-line comment
			At some 
			Believe me
			*/
			LIMIT 100;




////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

CLASS 2

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

------------------------------------------------------------------------------------
template: Intro slide template
template_id: 1 
------------------------------------------------------------------------------------

CLASS 2 - Intro
Links to meetup, gh, and wiki


------------------------------------------------------------------------------------
template: Previous Class
template_id: 2 
------------------------------------------------------------------------------------
	- make sure to have a db installed

	- Previous class review
		- What is a db, what is SQL, why do we use it
		- SELECT * FROM table_name
		- SELECT column_1, colunm_2 FROM table_name
		- LIMIT
		- -- Comments!


--------------------
template: vertical
template_id: 9 
--------------------

------------------------------------------------------------------------------------
template: double_bulleted_list
template_id: 7
------------------------------------------------------------------------------------

	Let's talk about NULL Values

	NULL values are special values in a table's records
	- include pic on the side of null values in various consoles
	A NULL literally means 'no data in this record in this column'
	- img of null vals in table
	Watch out: very different from a blank string or a string literally spelling 'NULL'
		- example of nulls (query from data you know is gonna output null with super simple select)


------------------------------------------------------------------------------------
template: Only code template
template_id: 10
------------------------------------------------------------------------------------

	CODE: 
			-- Shows null value in "ReportsTo" column
			-- Question to ask yourself:
			-- 		Should this value be null? 
				SELECT * FROM employees
				LIMIT 1;



------------------------------------------------------------------------------------
template: 1x1 grid with bullet points (left) and image (right)
template_id: 4
------------------------------------------------------------------------------------

	How to customize nulls in GUI
	Different GUIs show NULLs in different ways
	Some editors have the export to csv function and let you decide what values for nulls
		-- image to display NULLs in various GUIs


--------------------
template: vertical
template_id: 9 
--------------------


------------------------------------------------------------------------------------
template: 1x1 grid with bullet points (left) and image (right)
template_id: 4
------------------------------------------------------------------------------------

	Useful tip, use aliases

	Aliases can be used as a shortcut to reference columns or tables
		- will rename column(s) in the output
		- can reference columns/tables in the code with the shortcut
		- will come useful later when using multiple tables



------------------------------------------------------------------------------------
template: Only code template
template_id: 10
------------------------------------------------------------------------------------

	code:
		SELECT column_name_1 as cl_1,
				column_name_2 as cl_2
				-- notice the alias "as alias_name"
				-- for both columns and table name
			FROM table_name as tb
			LIMIT 10;


------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

	Example with our sample DB:
	-- Show aliases for columns and tables
		SELECT Name as file_type
	 		FROM media_types as md
	 	LIMIT 10;

	 Can also omit the "as" keyword:
	 	SELECT Name file_type
	 		FROM media_types md
	 	LIMIT 10;


--------------------
template: vertical
template_id: 9 
--------------------


------------------------------------------------------------------------------------
template: 1x1 grid with bullet points (left) and image (right)
template_id: 4
------------------------------------------------------------------------------------
	HOW TO SORT DATA

	SQL has a handy ORDER BY command
		- sorting is "ordering" data 
			i.e. from largest to smallest value or vice-versa
		- ORDER BY lets you sort by one, or multiple columns
		- Takes specifier DESC or ASC (descending or ascending)
			- Defaults to ASC if not specified 

------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

	Simple ORDER BY one column
		- code
			SELECT * FROM employees
			ORDER BY last_name ASC;


------------------------------------------------------------------------------------
template: 1x1 grid with bullet points (left) and image (right)
template_id: 4
------------------------------------------------------------------------------------

	ORDER BY two columns
		- Ordering by two columns means sorting one first,
		- and then within each sorted group, another sorting happens at another column level
		- I know, not very clear, let's look at some code



------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------
	-- CODE WITH ORDER BY number and ORDER BY multiple columns: 

		 -- Simple one column order by
		 SELECT GenreId, Name -- These happen to be all the columns present in the table "genres"
			FROM genres
		 ORDER BY Name ASC -- or DESC, ORDER BY defaults to ASC
		 ;
		
		 -- This is a shortcut way of doing it:
		 SELECT GenreId, Name
			FROM genres
		 ORDER BY 2 ASC
		 -- 2 here means the second column
		--  (in the order written after the SELECT)
		 ;

------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------
		 -- ORDER BY with multiple columns
		 
		 SELECT Composer, Name, Milliseconds
		 FROM tracks
		 ORDER BY Composer DESC, Name;

		 -- Orders first by artist name and then, within each artist, by track name
		 SELECT Composer, Name, Milliseconds
		 FROM tracks
		 ORDER BY 1 DESC, 2;

		 -- Orders by longest track in table
		  SELECT Composer, Name, Milliseconds
		 FROM tracks
		 ORDER BY 3 Desc;
		 -- Careful if you add a column in between other columns
		 -- "3" is not gonna be the referencing the same column
		 -- if using the ORDER BY number method make sure to add additional columns to the end 


 
--------------------
template: vertical
template_id: 9 
--------------------
	

------------------------------------------------------------------------------------
template: 1x1 grid with bullet points (left) and image (right)
template_id: 4
------------------------------------------------------------------------------------

	The marvelous WHERE clause

	The SQL way of applying a filter to the data
	WHERE keyword usually follows a SELECT ... FROM table  	
	We can specify filtering for one or multiple columns
	Very customizable in terms of what logic operations we can perform
		- AND, OR, NOT


------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

	Simple WHERE condition for varchar() column
		SELECT id, my_str_column 
			FROM table_name
		WHERE my_str_column = 'some_string'
		-- here we're assuming that the field my_str_column is a string (varchar())
		;

	Simple WHERE condition for numeric column
		SELECT id, my_num_column
			FROM table_name
		WHERE my_num_column = 23
		-- here we're assuming that my_num_column is an integer or a float
		;


------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

	Simple WHERE condition for numeric column
		SELECT id, my_num_column
			FROM table_name
		WHERE my_num_column = 23
		-- here we're assuming that my_num_column is an integer or a float
		;

	SIMPLE WHERE condition with use of NULL values
		to filter for NULL or NOT NULL values
			SELECT id, my_col
				FROM table_name
			WHERE my_col IS NULL
			-- for the opposite result use:
			--  WHERE my_col IS NOT NULL 
			;


------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

	Combined WHERE condition with AND operator
		-- both true at the same time

		SELECT id
				,my_num_column
				,my_str_column
			FROM table_name
			WHERE my_num_column > 2
			AND my_str_column = 'hello'
			;


	WHERE used with OR
		SELECT id
				,my_num_column
				,my_str_column
			FROM table_name
			WHERE my_num_column > 2
			OR my_str_column = 'hello'
			;


	WHERE used with AND and OR
		SELECT id
				,my_num_column
				,my_str_column
			FROM table_name
			WHERE 
			(my_num_column > 2 AND my_num_column < 6) 
			OR my_str_column = 'hello'
			;

------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

	If filtering same numeric column for a range 
		instead of doing:
			WHERE my_num_column >= 2 AND my_num_column < 9
		use (bounds are included):
			WHERE my_num_column BETWEEN 2 AND 8


------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------

	WHERE used with IN statement
	-- Suppose values in "id" columns are integers 1 through 100
	-- if you have the specific id's, just plug them in a list and use the IN keyword
	-- (imagine id's to be emails or unique identifiers for a customer in the db)
		SELECT id
				,my_num_column
				,my_str_column
			FROM table_name
			WHERE id IN (1,2,3,4)
			;

------------------------------------------------------------------------------------
template: Title bullet points and code template
template_id: 8
------------------------------------------------------------------------------------


	WHERE clauses use the IN keyword to filter records to a specified subset
		For example:
			you want a list of names and last name, but only where the first name is in this list: Richard, Ann, Chris.

			This is how the SQL would look like
				SELECT first_name,
						last_name
					FROM table_name
				WHERE first_name IN ('Richard', 'Ann', 'Chris')
				;
			Start to think how you would treat cases in which the value is 'richard' and not 'Richard'


---------------------------------------------------------------------------






Built-in RANDOM() function
    RANDOM() will work in both SQLite and PostgreSQL
    other SQL dialects use RAND() sometimes
    if called by itself it outputs a number
        Example:
            SELECT random()
            -- no from because it doesnt really come from a table
            ;
    very useful to use in comination with ORDER BY
        Example:
            SELECT col_1,
                    col_2
                FROM table_name
            ORDER BY RANDOM();

        Throw in a LIMIT too, great to get a random sample:        
            SELECT col_1,
                    col_2
                FROM table_name
            ORDER BY RANDOM()
            LIMIT 10;

---------------------------------------------------------------------------

COMPARISON OPERATORS:
    < > = >= <= != (same as <>)
    (in table)

Can use comparison operators in where clauses
    - to filter for specific numbers
    - to filter for strings (= or !=)
    - to filter for dates
    - more...

Can use comparison operators in case when statements
    - to compare numbers
    - to compare strings
    - to compare dates
    - more...

---------------------------------------------------------------------------
number operators ( + - / * //)

    SQL uses number operators that are very familiar
    - Addition: +
    - Subtraction: -
    - Multiplication: *
    - Division: /
    - Modulo or Remainder: // (or MOD() in some SQL syntaxes)
    - Exponentiation: POWER() in postgreSQL
        not possible in SQLite, or is it... ? https://stackoverflow.com/questions/13190064/how-to-find-power-of-a-number-in-sqlite
    - Square root https://www.sqlite.org/contrib -- unavailable functions

    Can use them on individual values
        - ie: column_1 - column_2
    Or on aggregates (we'll see these later)
        - ie: sum(column_1) - sum(column_2)

---------------------------------------------------------------------------

SQL CASE STATEMENTS

CASE is your classic IF statement

Pseudo code [markdown]:
	IF this condition is true
		THEN do this
	ELSE do that

How to build a CASE statement in SQL
	Condition to evaluate goes after CASE keyword
		- Can check if value is above or below another value (using > or <)
			Or in between a range of values (recall BETWEEN AND)
		- Can check if a varchar column matches a speciic string
		- Can check for value in list of values (using IN keyword)

	Result action after condition check goes after the THEN keyword
		- This may not make sense right now, let's look at some code...

	CODE:
		-- here, CASE WHEN is used to create a column that will act as a 'flag'
		-- i.e. to specify if the value at that row is less or greater than 10
		SELECT
			id,
			num_col,
			CASE WHEN num_col > 10
				THEN 'value is greater than 10'
				ELSE 'value is less than 10'
				END AS ten_check,
			FROM table_name; 



Case when with multiple conditions
	CASE WHEN my_num_col > 2 AND my_varchar_col LIKE '%search%'
		THEN 'custom output'
		ELSE NULL END AS my_col_name


case when with multiple WHENs
	CASE 
		WHEN num_col > 2
			THEN 'output 1'
		WHEN other_num_col < 25 OR other_varchar_col = 'exact string'
			THEN 'output 2'
		WHEN num_col = 10
			THEN 'output 3'
		ELSE NULL END AS my_col_name


case with the same field
	(looks like more of a switch case, for those of you who are familiar)
	Example:
		CASE field
			WHEN condition
				THEN 'output_1'
			WHEN condition_2 -- on the same field 
				THEN 'output_2'
			ELSE NULL END AS my_col_name

nested case when

	CASE WHEN field_1 = 'some string'
		THEN
			CASE WHEN field_2 > 20 
				THEN 'output_1'
			ELSE NULL END
		WHEN field_3 > 100
			THEN 'output_2'
		ELSE NULL END AS nested_check

case when using IN keyword to check elements belonging to a list (generated in a subquery)
	
	CASE WHEN track_id IN (SELECT id FROM tracks WHERE track_duration > 20)
		THEN 'output_1'
	ELSE NULL END AS in_check


case when using a subquery to calculate one value
	CASE WHEN num_col = (SELECT max(other_num_col) FROM table_name)
		THEN 'output_1'
	ELSE NULL END AS subquery_check



VERTICAL

STRING FUNCTIONS
	UPPER(col) - turns column all upper case
	LOWER(col) - turns column all lower case
	TRIM(col) - trims leading and trailing white spaces
	LEFT(col, num) - extracts <num> number of characters starting from the start of the string
	RIGHT(col, num) - extracts <num> number of characters starting from the end of the string
	col_1 || col_2 or CONCAT(col_1, col_2) - concatenates the two strings

LIKE operator
	You may want to use the LIKE operator to match substrings
		Good to use in WHERE clauses or in CASE WHENs

		Table - Special characters
			% - Match any character, any amount
			_ - Match any character, one count
			[] - Match range of characters, 


		General Use:
			string_col LIKE '%substring to match%'
			will evaluate to True if 'substring to match' is in the value contained in string_col

		SQL:
			SELECT
				col_1
				,col_2
				FROM table_name
			WHERE col_1 LIKE 'search%' -- this will match any string that starts with the word 'search' 
			;

		Tips:
			always be careful to put the % characters in the right places!
			can do insensitive case search with:
				lower(my_col) like '%substring%'
				my_col ilike '%substring%' -- (in PostgreSQL)



AGGREGATIONS IN SQL
	We use the GROUP BY clause in SQL to aggregate data

	What do we mean by aggregation?
	You can aggregate on fields that have some form of repeating value
		Hence categorical data, not numerical data

	Say you have this table...
		*SHOW TABLE WITH AGGREGAT-ABLE FIELDS
			START WITH ONE COLUMN ONLY*

		We can do:
			SELECT 
				DISTINCT col_1 
				FROM table_name;

		Or, this would output the same result:
			SELECT col_1 
				FROM table_name 
				GROUP BY col_1;

		GROUP BY here "collapses" the rows where it can (where values are repeated)
		Of course, if you add additional column you'll have to either group by those as well or do some sort of aggregation (like summing the values)


	Say you have this other table table...
		*SHOW TABLE WITH AGGREGAT-ABLE FIELDS
			START WITH TWO COLUMNS, both categorical*

	What if I only want to show the unique combinations for both columns?
		SELECT col_1, col_2
			FROM table_name
			GROUP BY col_1, col_2

	LETS COMBINE THIS CONCEPT WITH AGGREGATE FUNCTIONS
	Examples of aggregations:
		sum, count, max, min, average

	Usually used on numerical and/or date columns (except count, can be used on any column really)

		html table:
			sum : adds up the column
			count: count records in the column (NOT NULL)
				- tip: use count(distinct col_name) to count all unique values in column
			max: returns highest value in the column
			min: returns lowest value in the column
			average: computes the average of the column

	When called by themselves such as:
		SELECT average(num_column) 
			FROM table_name;
		It will return the average for the whole column...
		but say you want to return average based on groups found in another column

		*show example*

	That's when you want to combine GROUP BY and aggregate functions.
	Such as:
		SELECT categorical_col, average(num_column)
			FROM table_name
			GROUP BY categorical_col;

	It can get more complex by computing averages over two GROUPed columns:
		SELECT categorical_col_one
			,categorical_col_two
			,average(num_column)
			FROM table_name
		GROUP BY categorical_col_one, categorical_col_two;

	You can also throw in an ORDER BY after and, if you need it, a WHERE clause before
		SELECT categorical_col_one
			,categorical_col_two
			,average(num_column)
			FROM table_name
			WHERE categorical_col_one NOT IN ('value_1', 'value_3')
		GROUP BY categorical_col_one, categorical_col_two
		ORDER BY categorical_col_two DESC;


	...and as a shorthand you can reference columns by their position:
		SELECT categorical_col_one
			,categorical_col_two
			,average(num_column)
			FROM table_name
		GROUP BY 1,2
		ORDER BY 3 ASC;


SUBQUERIES
	A subquery is a table calculated on the fly.
	It can appear after FROM, WHERE, IN, as well as JOIN.
		More on JOINs later...

	Very useful to:
		shrink a table size, to then do more aggregations/calculations on top
		filter your data using a where clause on an aggregate sub
			...wat?

	Examples:
		SELECT id, first_name, last_name
			FROM table_name
			WHERE id IN 
				(SELECT id 
					FROM table_name 
				WHERE department = 'Noisebridge');

		SELECT id, first_name, last_name
			FROM table_name
			WHERE date_registrered > 
					(SELECT min(other_date) 
							FROM other_table
						WHERE other_col = 'Noisebridge')

	Subs are used also in this context:
		SELECT col_1, col_2
			FROM (SELECT col_1, col_2 
					FROM table_name);
	This example is really not that useful but it will make sense with JOINs

		SELECT SUM(col_1_case) as col_1_sum
			, SUM(col_2_case) as col_2_sum
				FROM (SELECT CASE WHEN col_1 > 0 THEN 1 ELSE 0 END AS col_1_case
							,CASE WHEN col_1 > 0 THEN 1 ELSE 0 END AS col_2_case 
						FROM table_name);

		This could be simplified as:
					SELECT SUM(CASE WHEN col_1 > 0 THEN 1 ELSE 0 END) AS col_1_sum
							,SUM(CASE WHEN col_1 > 0 THEN 1 ELSE 0 END) AS col_2_sum 
						FROM table_name;


Joins

	SQL uses JOINs to relate two or more tables
	This is where the concept of primary and foreign key is important
	You can join two tables by identifying the two join columns

	When you need columns from different tables you need to JOIN them together
	In order to join them, you need to know the shared columns
	Also, you should ask yourself, what is the table that contains most values in the join column?
		You probobaly want to start your join from this table

	Example:
		Look at the following two tables:
			*SHOW TWO TABLES HERE*
			*ONE HAS A PRIMARY KEY*
			*THE OTHER ONE HAS A JOIN (FOREIGN) KEY TO JOIN ON*
			*Also, the second one doesnt contain all values in its foreign key that the first one contains in its primary key
				*To better illustrate the concept of starting with the 'fullest' or 'biggest' table in terms of Join*

		primary to foreign -- very frequent
		primary to primary -- frequent
		foreign to foreign -- not frequent


	Types of JOINS:
		INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL OUTER JOIN)
		*PICTURE WITH VENN DIAGRAMS*

		Important concept to realize: 
			INNER joins will only keep records that appear in both tables
			LEFT joins will keep all records that appear in the left table (or starting table) and will also join in the records from the right table (the one right after LEFT JOIN words), regardless of wether they are in the strating table or not.

		DO YOURSELF A FAVOR AND DO NOT MIX LEFT AND RIGHT JOINS
			IT CAN GET CONFUSING PRETTY SOON :-)
		I would suggest to always keep it at LEFT joins only or INNER joins only (per subquery)


	SQL CODE:
		SELECT 
			t1.*
			,t2.*
			FROM table_name_1 t1
		INNER JOIN table_name_2 t2
			ON t1.id = t2.foreign_id

	Instead of joining full tables, you can join subqueries
		Very useful when you have to join in aggreagate values of some kind

	joins with subqueries
	joins with aggregate subqueries

